.TH "Cjt_especies" 3 "Dv Mai 15 2020" "Version 15/05/2020" "Creació d'un arbre filogenètic." \" -*- nroff -*-
.ad l
.nh
.SH NAME
Cjt_especies \- Representa un conjunt d'espècies ordenades alfabèticament\&.  

.SH SYNOPSIS
.br
.PP
.SS "Mètodes públics"

.in +1c
.ti -1c
.RI "\fBCjt_especies\fP ()"
.br
.RI "Crea un conjunt d'espècies buit\&. "
.ti -1c
.RI "void \fBcrea_especie\fP (string id, string gen)"
.br
.RI "Crea una espècie i la introdueix al conjunt\&. "
.ti -1c
.RI "void \fBelimina_especie\fP (string id)"
.br
.RI "Elimina la espècie indicada del conjunt d'espècies\&. "
.ti -1c
.RI "bool \fBexisteix_especie\fP (string id) const"
.br
.RI "Consulta si existeix la espècie indicada\&. "
.ti -1c
.RI "double \fBcalcular_distancia\fP (const string &id, const string &id2) const"
.br
.RI "Consulta la distàncie entre dues espècies\&. "
.ti -1c
.RI "void \fBobtener_gen\fP (string id) const"
.br
.RI "Consulta el gen de la espècie demanada\&. "
.ti -1c
.RI "bool \fBfinal\fP ()"
.br
.RI "Consulta si l'iterador del mapa del conjunt d'especies apunta al final d'ell o no\&. "
.ti -1c
.RI "void \fBinicio\fP ()"
.br
.RI "Posiciona l'iterador del mapa del conjunt d'especies apuntant al primer element\&. "
.ti -1c
.RI "void \fBactual\fP (string &act)"
.br
.RI "El paràmetre explícit passa a tenir la informació del element apuntat pel iterador actual\&. "
.ti -1c
.RI "void \fBavanza\fP ()"
.br
.RI "Avança la posició del iterador en una posició;\&. "
.ti -1c
.RI "void \fBlee_cjt_especies\fP ()"
.br
.RI "Lectura d'un conjunt d'espècies\&. "
.ti -1c
.RI "void \fBimprime_cjt_especies\fP () const"
.br
.RI "Escriptura del conjunt d'espècies\&. "
.ti -1c
.RI "void \fBtabla_distancias\fP () const"
.br
.RI "Escriu una taula de les distàncies entre espècies\&. "
.in -1c
.SS "Mètodes Privats"

.in +1c
.ti -1c
.RI "void \fBelimina_especie_tabla_dist\fP (const string &id)"
.br
.RI "Actualitza la taula de distàncies si s'elimina una espècie\&. "
.ti -1c
.RI "void \fBafegeix_especie_tabla_dist\fP (const string &id)"
.br
.RI "Actualitza la taula de distàncies si s'afegeix una espècie\&. "
.in -1c
.SS "Atributs Privats"

.in +1c
.ti -1c
.RI "map< string, \fBEspecie\fP > \fBcjt_especies\fP"
.br
.RI "Mapa on guardem les espècies del conjunt d'espècies\&. "
.ti -1c
.RI "map< string, map< string, double > > \fBtaula_distancies\fP"
.br
.RI "Nested map\&. Mapa on guardem les distancies entre les espècies\&. "
.ti -1c
.RI "map< string, \fBEspecie\fP >::const_iterator \fBit\fP"
.br
.RI "Iterator\&. Iterador del mapa d'especies\&. "
.in -1c
.SH "Descripció Detallada"
.PP 
Representa un conjunt d'espècies ordenades alfabèticament\&. 

Ofereix la possibilitat de calcular distàncies entre diferents especies i modificar el conjunt, ja sigui creant noves especies o eliminant\&. Es pot consultar el gen d'una especie i si una especie existeix\&.També inclou la possibilitat d'imprimir una taula de distancies entre especies\&. 
.PP
Definició a la línia 27 del fitxer Cjt_especies\&.hh\&.
.SH "Documentació del Constructor i el Destructor"
.PP 
.SS "Cjt_especies::Cjt_especies ()"

.PP
Crea un conjunt d'espècies buit\&. 
.PP
\fBPrecondició\fP
.RS 4
Cert\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
El resultat és un conjunt d'especies buit\&. 
.RE
.PP

.PP
Definició a la línia 12 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
12                            {
13   Cjt_especies::cjt_especies = map<string, Especie> ();
14   Cjt_especies::taula_distancies = map<string,map<string,double>>();
15 }
.fi
.SH "Documentació de les Funcions Membre"
.PP 
.SS "void Cjt_especies::elimina_especie_tabla_dist (const string & id)\fC [private]\fP"

.PP
Actualitza la taula de distàncies si s'elimina una espècie\&. 
.PP
\fBPrecondició\fP
.RS 4
La espècie la qual es vol eliminar existeix dins la taula de distàncies\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
S'ha actualitzat la taula\&. 
.RE
.PP

.PP
Definició a la línia 187 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
187                                                               {
188   //Es posiciona un iterador apuntant a la posició de l'id demanat\&.
189   map<string,map<string,double>>::const_iterator it = Cjt_especies::taula_distancies\&.find(id);
190   //Es posiciona un iterador apuntant a la primera posició del mapa de distancies\&.
191   //Inv: Farà tantes iteracions fins que l'iterador sigui igual al primer que hem buscat\&. Així ens
192   //estalviem bucles innecessaris\&. Aquest bucle elimina la especie demanada del map interior\&.
193   for (map<string,map<string,double>>::iterator it2 = Cjt_especies::taula_distancies\&.begin(); it2 != it; ++it2) {
194       it2->second\&.erase(it2->second\&.find(id));
195     }
196   //Eliminem la especie del mapa gran de la taula de distancies\&.
197   Cjt_especies::taula_distancies\&.erase(it);
198 }
.fi
.SS "void Cjt_especies::afegeix_especie_tabla_dist (const string & id)\fC [private]\fP"

.PP
Actualitza la taula de distàncies si s'afegeix una espècie\&. 
.PP
\fBPrecondició\fP
.RS 4
La espècie la qual es vol afegir existeix no existeix dins la taula de distàncies\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
S'ha actualitzat la taula\&. 
.RE
.PP

.PP
Definició a la línia 202 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
202                                                               {
203   //Es posiciona un iterador apuntant a la taula d'especies, a la posició on esta el id demanat\&.
204   map<string,Especie>::const_iterator esp = Cjt_especies::cjt_especies\&.find(id);
205   //Es crea un map auxiliar on s'aniran ficant les distancies\&.
206   map<string, double> aux;
207   //Inv: Recorregut del mapa, de principi a final\&. 
208   for (map<string,Especie>::const_iterator it = Cjt_especies::cjt_especies\&.begin(); it != Cjt_especies::cjt_especies\&.end(); ++it) {
209     map<string,map<string,double>>::iterator itt = Cjt_especies::taula_distancies\&.find(it->first);
210     //Calcula la distancia entre dues especies, la que entra pel parametre explícit
211     //i la que apunta el iterador\&.
212     double x = it->second\&.distancia(esp->second);
213     //If per fer les operacions si el identificador està a la part baixa
214     // i per tant només es fica una distancia al map interior\&.
215     if (id > it->first) {
216       itt->second\&.insert(make_pair(id, x));
217     }
218     //If per fer les operacions si l'identificador està a la part alta i s'ha
219     //de crear un nou map amb totes les altres especies\&.
220     else if (id < it->first) {
221       aux\&.insert(make_pair(it->first, x));
222     }
223       
224   }
225   //Finalment insertem el mapa a la taula de distancies\&.
226   Cjt_especies::taula_distancies\&.insert(make_pair(id, aux));
227 
228 }
.fi
.SS "void Cjt_especies::crea_especie (string id, string gen)"

.PP
Crea una espècie i la introdueix al conjunt\&. 
.PP
\fBPrecondició\fP
.RS 4
No existeix cap espècie amb el mateix identificador\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
S'ha creat una espècie\&. 
.RE
.PP

.PP
Definició a la línia 26 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
26                                                     {
27       Especie e(gen);
28       Cjt_especies::cjt_especies\&.insert(make_pair(id,e));
29       afegeix_especie_tabla_dist(id);
30 }
.fi
.SS "void Cjt_especies::elimina_especie (string id)"

.PP
Elimina la espècie indicada del conjunt d'espècies\&. 
.PP
\fBPrecondició\fP
.RS 4
Cert\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
La espècie s'ha eliminat del paràmetre implícit\&. 
.RE
.PP
\fBParàmetres\fP
.RS 4
\fIstring\fP id 
.RE
.PP

.PP
Definició a la línia 41 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
41                                             {
42     map<string, Especie>::const_iterator it = Cjt_especies::cjt_especies\&.find(id);
43     Cjt_especies::cjt_especies\&.erase(it);
44     Cjt_especies::elimina_especie_tabla_dist(id);     
45 }
.fi
.SS "bool Cjt_especies::existeix_especie (string id) const"

.PP
Consulta si existeix la espècie indicada\&. 
.PP
\fBPrecondició\fP
.RS 4
El id és un string vàlid\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
El resultat indica si existèix la espècie dins el conjunt d'espècies\&. 
.RE
.PP
\fBParàmetres\fP
.RS 4
\fIstring\fP id 
.RE
.PP
\fBRetorna\fP
.RS 4
bool 
.RE
.PP

.PP
Definició a la línia 51 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
51                                                    {
52   map<string, Especie>::const_iterator it = Cjt_especies::cjt_especies\&.find(id);
53   if (it != Cjt_especies::cjt_especies\&.end()) return true;
54   return false;
55 }
.fi
.SS "double Cjt_especies::calcular_distancia (const string & id, const string & id2) const"

.PP
Consulta la distàncie entre dues espècies\&. 
.PP
\fBPrecondició\fP
.RS 4
Les dues espècies existeixen al conjunt\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
Et retorna la distància entre dues espècies\&. Excepcions: Si retorna -1 vol dir que les dues espècies no existèixen dins el conjunt d'especies\&. Si retorna -2 vol dir que la espècie id no existeix dins el conjunt d'especies\&. Si retorna -3 vol dir que la espècie id2 no existeix dins el conjunt d'especies\&.
.RE
.PP
\fBParàmetres\fP
.RS 4
\fIstring\fP id1 
.br
\fIstring\fP id2 
.RE
.PP
\fBRetorna\fP
.RS 4
double 
.RE
.PP

.PP
Definició a la línia 73 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
73                                                                                  {
74   if (not Cjt_especies::existeix_especie(id) and not Cjt_especies::existeix_especie(id2)) return -1; 
75   else if (not Cjt_especies::existeix_especie(id)) return -2;
76   else if (not Cjt_especies::existeix_especie(id2)) return -3;
77   else {
78       map<string,map<string,double>>::const_iterator it = Cjt_especies::taula_distancies\&.find(id);
79       map<string,double>::const_iterator it2 = it->second\&.find(id2);
80       if (it2 == it->second\&.end()) {
81         it = Cjt_especies::taula_distancies\&.find(id2);
82         it2 = it->second\&.find(id);
83         return it2->second;
84       }
85       return it2->second;
86     }
87 }
.fi
.SS "void Cjt_especies::obtener_gen (string id) const"

.PP
Consulta el gen de la espècie demanada\&. 
.PP
\fBPrecondició\fP
.RS 4
La espècie existeix al conjunt d'espècies\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
S'ha mostrat el gen de la espècie\&. 
.RE
.PP
\fBParàmetres\fP
.RS 4
\fIstring\fP 
.RE
.PP
\fBRetorna\fP
.RS 4
string 
.RE
.PP

.PP
Definició a la línia 93 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
93                                               {
94   map<string, Especie>::const_iterator it = Cjt_especies::cjt_especies\&.find(id);
95   cout << it->second\&.consultar_gen() << endl;
96   
97 }
.fi
.SS "bool Cjt_especies::final ()"

.PP
Consulta si l'iterador del mapa del conjunt d'especies apunta al final d'ell o no\&. 
.PP
\fBPrecondició\fP
.RS 4
Cert\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
El booleà retorna cert si apunta al final del mapa\&. 
.RE
.PP

.PP
Definició a la línia 103 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
103                          {
104   return it == Cjt_especies::cjt_especies\&.end();
105 
106 }
.fi
.SS "void Cjt_especies::inicio ()"

.PP
Posiciona l'iterador del mapa del conjunt d'especies apuntant al primer element\&. 
.PP
\fBPrecondició\fP
.RS 4
Cert\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
El iterador apunta al primer element del mapa\&. 
.RE
.PP

.PP
Definició a la línia 111 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
111                           {
112   it = Cjt_especies::cjt_especies\&.begin();
113 }
.fi
.SS "void Cjt_especies::actual (string & act)"

.PP
El paràmetre explícit passa a tenir la informació del element apuntat pel iterador actual\&. 
.PP
\fBPrecondició\fP
.RS 4
Cert\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
El paràmetre explícit passa a tenir la informació del element apuntat pel iterador actual 
.RE
.PP

.PP
Definició a la línia 118 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
118                                      {
119   act = it->first;
120 }
.fi
.SS "void Cjt_especies::avanza ()"

.PP
Avança la posició del iterador en una posició;\&. 
.PP
\fBPrecondició\fP
.RS 4
Cert\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
El iterador del mapa d'especies apunta una posició endavant\&. 
.RE
.PP

.PP
Definició a la línia 128 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
128                           {
129   if (not final()){
130         ++Cjt_especies::it;
131 
132   }
133 }
.fi
.SS "void Cjt_especies::lee_cjt_especies ()"

.PP
Lectura d'un conjunt d'espècies\&. 
.PP
\fBPrecondició\fP
.RS 4
Estan preparats al canal estandar d'entrada un enter i les dades dels elements que llegirem\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
El paràmetre implícit conté un conjunt d'especies llegits pel canal estàndar\&. 
.RE
.PP

.PP
Definició a la línia 139 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
139                                     {
140   //La condició de si es llegeix un nou conjunt
141   //d'especies es que es descarta el contingut previ\&.
142   //Per tant fem clear dels dos mapes\&.
143   Cjt_especies::taula_distancies\&.clear();
144   Cjt_especies::cjt_especies\&.clear();
145   //int que indica el nombre d'especies que es volen afegir\&.
146   int n;
147   cin >> n;
148   //Inv: el bucle for mai farà més de n iteracions\&. 
149   //A cada iteració farà una crida a la funció crea especie\&.
150   for (int i = 0; i < n; ++i) {
151     string id, gen;
152     cin >> id >> gen;
153     Cjt_especies::crea_especie(id,gen);
154   }
155 }
.fi
.SS "void Cjt_especies::imprime_cjt_especies () const"

.PP
Escriptura del conjunt d'espècies\&. 
.PP
\fBPrecondició\fP
.RS 4
Cert\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
S'ha escrit pel canal estàndar de sortida les espècies del paràmetre implícit\&. 
.RE
.PP

.PP
Definició a la línia 158 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
158                                               {
159   //Inv: És situa un iterador apuntant a la primera posició del
160   //mapa d'especies\&. Avançarà una iteració fins que el punter apunti al final\&.
161   //A cada iteració s'impreix una especie\&.
162   for (map<string,Especie>::const_iterator it = Cjt_especies::cjt_especies\&.begin(); it != Cjt_especies::cjt_especies\&.end(); ++it) {
163     cout << it->first << " ";
164     it->second\&.escriure();
165   }
166 }
.fi
.SS "void Cjt_especies::tabla_distancias () const"

.PP
Escriu una taula de les distàncies entre espècies\&. 
.PP
\fBPrecondició\fP
.RS 4
Cert\&. 
.RE
.PP
\fBPostcondició\fP
.RS 4
S'ha imprès la taula de distàncies\&. 
.RE
.PP

.PP
Definició a la línia 169 del fitxer Cjt_especies\&.cc\&.
.PP
.nf
169                                           {
170   //Inv: És situa un iterador apuntant a la primera posició del
171   //mapa de distancies\&. Avançarà una posició fins que el punter apunti al final\&.
172   //A cada iteració s'impreix un identificador de especie i s'executa un segon bucle\&.
173   for(map<string,map<string,double>>::const_iterator it = Cjt_especies::taula_distancies\&.begin(); it != Cjt_especies::taula_distancies\&.end(); ++it) {
174     cout << it->first << ":";
175     //Inv: És situa un iterador apuntant a la primera posició del
176     //map interior del map de distancies d'especies\&. Avançarà una posició fins que el punter apunti al final\&.
177     //A cada iteració s'impreix un identificador d'especie del map interior i la distancia respecte les dues especies\&.
178     for (map<string,double>::const_iterator it2 = it->second\&.begin(); it2 != it->second\&.end(); ++it2) {
179         cout << " " << it2->first << " (" << it2->second << ")"; 
180     }
181     cout << endl;
182   }
183 }
.fi
.SH "Documentació de les Dades Membre"
.PP 
.SS "map<string,\fBEspecie\fP> Cjt_especies::cjt_especies\fC [private]\fP"

.PP
Mapa on guardem les espècies del conjunt d'espècies\&. 
.PP
Definició a la línia 35 del fitxer Cjt_especies\&.hh\&.
.SS "map<string, map<string,double> > Cjt_especies::taula_distancies\fC [private]\fP"

.PP
Nested map\&. Mapa on guardem les distancies entre les espècies\&. 
.PP
Definició a la línia 39 del fitxer Cjt_especies\&.hh\&.
.SS "map<string, \fBEspecie\fP>::const_iterator Cjt_especies::it\fC [private]\fP"

.PP
Iterator\&. Iterador del mapa d'especies\&. 
.PP
Definició a la línia 58 del fitxer Cjt_especies\&.hh\&.

.SH "Autor"
.PP 
Generat automàticament per Doxygen per a Creació d'un arbre filogenètic\&. a partir del codi font\&.
